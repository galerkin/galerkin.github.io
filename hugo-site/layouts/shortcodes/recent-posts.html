{{ $count := .Get "count" | default 5 }}
{{ $posts := where site.RegularPages "Section" "blog" | first $count }}

{{ if $posts }}
<ul class="recent-posts">
{{ range $posts }}
  <li>
    <a href="{{ .Permalink }}">{{ .Title }}</a>
    <span class="post-date">{{ .Date.Format "January 2, 2006" }}</span>
  </li>
{{ end }}
</ul>
{{ else }}
<p>No blog posts found.</p>
{{ end }}